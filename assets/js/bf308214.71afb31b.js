"use strict";(globalThis.webpackChunkfitnexa_docs=globalThis.webpackChunkfitnexa_docs||[]).push([[9451],{1074(e,r,n){n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"mobile/ERROR_HANDLING","title":"Mobile Error Handling & Correlation","description":"To ensure high-quality support and fast debugging in a distributed system, the mobile app uses a sophisticated error correlation strategy.","source":"@site/docs/mobile/ERROR_HANDLING.md","sourceDirName":"mobile","slug":"/mobile/ERROR_HANDLING","permalink":"/fitnexa-docs/docs/mobile/ERROR_HANDLING","draft":false,"unlisted":false,"editUrl":"https://github.com/FitNexa/fitnexa-platform/tree/main/fitnexa-docs/docs/mobile/ERROR_HANDLING.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Logging & Observability","permalink":"/fitnexa-docs/docs/infrastructure/LOGGING_&_OBSERVABILITY"},"next":{"title":"Mobile App Mechanics Guide","permalink":"/fitnexa-docs/docs/mobile/MECHANICS"}}');var s=n(4848),t=n(8453);const o={},l="Mobile Error Handling & Correlation",a={},c=[{value:"\ud83d\udee1\ufe0f Global Error Boundary",id:"\ufe0f-global-error-boundary",level:2},{value:"Features:",id:"features",level:3},{value:"\ud83d\udea2 Logging Utility",id:"-logging-utility",level:2},{value:"Log Levels:",id:"log-levels",level:3},{value:"Log Sink:",id:"log-sink",level:3},{value:"\ud83d\udd0d How to Debug",id:"-how-to-debug",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"mobile-error-handling--correlation",children:"Mobile Error Handling & Correlation"})}),"\n",(0,s.jsx)(r.p,{children:"To ensure high-quality support and fast debugging in a distributed system, the mobile app uses a sophisticated error correlation strategy."}),"\n",(0,s.jsx)(r.h2,{id:"\ufe0f-global-error-boundary",children:"\ud83d\udee1\ufe0f Global Error Boundary"}),"\n",(0,s.jsxs)(r.p,{children:["The app is wrapped in a ",(0,s.jsx)(r.code,{children:"GlobalErrorBoundary"})," component (",(0,s.jsx)(r.code,{children:"src/components/ui/GlobalErrorBoundary.tsx"}),")."]}),"\n",(0,s.jsx)(r.h3,{id:"features",children:"Features:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Crash Capture"}),": It catches any unhandled JavaScript exceptions in the React tree."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Correlation ID (Reference Code)"}),': When a crash occurs, it generates a unique "Reference Code".']}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Centralized Reporting"}),": The crash details, including the stack trace and device info, are sent to the ",(0,s.jsx)(r.strong,{children:"Logging Service"})," asynchronously."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"User Feedback"}),": The user sees a friendly error screen with the Reference Code, making it easy to report issues to support."]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"-logging-utility",children:"\ud83d\udea2 Logging Utility"}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"logger.ts"})," utility (",(0,s.jsx)(r.code,{children:"src/utils/logger.ts"}),") provides a standard way to ship logs from the client to the backend."]}),"\n",(0,s.jsx)(r.h3,{id:"log-levels",children:"Log Levels:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"INFO"}),": Standard app lifecycle events."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"WARN"}),": Unexpected states that aren't crashes."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"ERROR"}),": Critical failures."]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"log-sink",children:"Log Sink:"}),"\n",(0,s.jsxs)(r.p,{children:["All mobile logs are sent via ",(0,s.jsx)(r.code,{children:"POST"})," to ",(0,s.jsx)(r.code,{children:"http://<gateway-url>:3009/logs"}),"."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"-how-to-debug",children:"\ud83d\udd0d How to Debug"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Get the ",(0,s.jsx)(r.strong,{children:"Reference Code"})," from the user."]}),"\n",(0,s.jsxs)(r.li,{children:["Search the ",(0,s.jsx)(r.strong,{children:"MongoDB"})," ",(0,s.jsx)(r.code,{children:"logs"})," collection for that code."]}),"\n",(0,s.jsxs)(r.li,{children:["Trace the error across services using the same ",(0,s.jsx)(r.code,{children:"correlationId"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,r,n){n.d(r,{R:()=>o,x:()=>l});var i=n(6540);const s={},t=i.createContext(s);function o(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);