"use strict";(globalThis.webpackChunkfitnexa_docs=globalThis.webpackChunkfitnexa_docs||[]).push([[5123],{3378(e,s,n){n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"backend/services/MESSAGING_SERVICE","title":"Messaging Service","description":"The Messaging Service handles real-time communication between users, trainers, and groups.","source":"@site/docs/backend/services/MESSAGING_SERVICE.md","sourceDirName":"backend/services","slug":"/backend/services/MESSAGING_SERVICE","permalink":"/fitnexa-docs/docs/backend/services/MESSAGING_SERVICE","draft":false,"unlisted":false,"editUrl":"https://github.com/FitNexa/fitnexa-platform/tree/main/fitnexa-docs/docs/backend/services/MESSAGING_SERVICE.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Logging Service","permalink":"/fitnexa-docs/docs/backend/services/LOGGING_SERVICE"},"next":{"title":"Nutrition Service","permalink":"/fitnexa-docs/docs/backend/services/NUTRITION_SERVICE"}}');var t=n(4848),c=n(8453);const r={},a="Messaging Service",o={},l=[{value:"\ud83d\ude80 Responsibilities",id:"-responsibilities",level:2},{value:"\ud83d\udee0\ufe0f Technical Details",id:"\ufe0f-technical-details",level:2},{value:"\ud83d\udce6 Architecture Mechanics",id:"-architecture-mechanics",level:2},{value:"\ud83d\udce1 Socket Events",id:"-socket-events",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"messaging-service",children:"Messaging Service"})}),"\n",(0,t.jsx)(s.p,{children:"The Messaging Service handles real-time communication between users, trainers, and groups."}),"\n",(0,t.jsx)(s.h2,{id:"-responsibilities",children:"\ud83d\ude80 Responsibilities"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Direct Messaging"}),": One-on-one chat between members."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Group Chat"}),": Conversation rooms for squads and gym communities."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Real-time Delivery"}),": Instant message broadcasting via WebSockets."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Notification Events"}),": Publishing message events to RabbitMQ for push notifications."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"\ufe0f-technical-details",children:"\ud83d\udee0\ufe0f Technical Details"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Port"}),": 3008"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Database"}),": ",(0,t.jsx)(s.code,{children:"fitnexa_messaging"})," (PostgreSQL)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Caching"}),": ",(0,t.jsx)(s.strong,{children:"Redis"})," for high-frequency conversation lookups."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Real-time"}),": Socket.io."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Key Models"}),": ",(0,t.jsx)(s.code,{children:"Conversation"}),", ",(0,t.jsx)(s.code,{children:"Participant"}),", ",(0,t.jsx)(s.code,{children:"Message"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"-architecture-mechanics",children:"\ud83d\udce6 Architecture Mechanics"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Repository Pattern"}),": Abstracted database access for scalability."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Redis Integration"}),": Conversation metadata is cached to avoid heavy JOIN queries during app initialization."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Event Pipeline"}),": On message send, the service:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Saves to DB (Postgres)."}),"\n",(0,t.jsx)(s.li,{children:"Emits via Socket.io to active participants."}),"\n",(0,t.jsxs)(s.li,{children:["Publishes ",(0,t.jsx)(s.code,{children:"message.created"})," to RabbitMQ."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"-socket-events",children:"\ud83d\udce1 Socket Events"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"join_room"}),": Add user to a specific conversation channel."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"send_message"}),": Incoming message from client."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"receive_message"}),": Broadcast message to other participants."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"typing_status"}),": Real-time indicator for user activity."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/fitnexa-docs/docs/backend/SERVICES_CATALOG",children:"Back to Services Catalog"})})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,s,n){n.d(s,{R:()=>r,x:()=>a});var i=n(6540);const t={},c=i.createContext(t);function r(e){const s=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(c.Provider,{value:s},e.children)}}}]);