"use strict";(globalThis.webpackChunkfitnexa_docs=globalThis.webpackChunkfitnexa_docs||[]).push([[7693],{5735(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"dev_workflows/MONOREPO_SCRIPTS","title":"Monorepo Scripts Reference","description":"This document describes the root-level scripts available in the FitNexa development environment (orchestration repo). Run these from the repository root (where the main package.json lives).","source":"@site/docs/dev_workflows/MONOREPO_SCRIPTS.md","sourceDirName":"dev_workflows","slug":"/dev_workflows/MONOREPO_SCRIPTS","permalink":"/fitnexa-docs/docs/dev_workflows/MONOREPO_SCRIPTS","draft":false,"unlisted":false,"editUrl":"https://github.com/FitNexa/fitnexa-platform/tree/main/fitnexa-docs/docs/dev_workflows/MONOREPO_SCRIPTS.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Contributing Guide","permalink":"/fitnexa-docs/docs/dev_workflows/CONTRIBUTING"},"next":{"title":"Logging & Observability","permalink":"/fitnexa-docs/docs/infrastructure/LOGGING_&_OBSERVABILITY"}}');var i=s(4848),t=s(8453);const d={},l="Monorepo Scripts Reference",c={},h=[{value:"\ud83d\ude80 Development",id:"-development",level:2},{value:"\ud83e\uddea Testing",id:"-testing",level:2},{value:"\ud83d\udce6 Build &amp; Install",id:"-build--install",level:2},{value:"\ud83d\uddc4\ufe0f Database",id:"\ufe0f-database",level:2},{value:"\ud83d\udd27 Utilities",id:"-utilities",level:2},{value:"\ud83d\udccd Ports (reference)",id:"-ports-reference",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"monorepo-scripts-reference",children:"Monorepo Scripts Reference"})}),"\n",(0,i.jsxs)(n.p,{children:["This document describes the root-level scripts available in the FitNexa development environment (orchestration repo). Run these from the ",(0,i.jsx)(n.strong,{children:"repository root"})," (where the main ",(0,i.jsx)(n.code,{children:"package.json"})," lives)."]}),"\n",(0,i.jsx)(n.h2,{id:"-development",children:"\ud83d\ude80 Development"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Script"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run easy-start"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Interactive setup"}),": detects local IP, lets you choose gym (Iron Temple, Green Theory, FitLife), clears ports, starts PostgreSQL (Docker), backend microservices, admin dashboards (Gym Admin + Super Admin), mobile app (Expo), and optionally Prisma Studio."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run dev:services"})}),(0,i.jsxs)(n.td,{children:["Start ",(0,i.jsx)(n.strong,{children:"backend only"}),": Gateway, Identity, Gym, Content, Squad, Nutrition, Wizard, Messaging, Logging (all 9 services with colored prefixes)."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run dev:all"})}),(0,i.jsxs)(n.td,{children:["Start ",(0,i.jsx)(n.strong,{children:"backend + mobile app"})," (Expo)."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run start:mobile"})}),(0,i.jsxs)(n.td,{children:["Start the mobile app only (",(0,i.jsx)(n.code,{children:"fitnexa-mobile"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run start:gym-admin"})}),(0,i.jsx)(n.td,{children:"Start Gym Admin dashboard only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run start:super-admin"})}),(0,i.jsx)(n.td,{children:"Start Super Admin dashboard only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run start:landing"})}),(0,i.jsx)(n.td,{children:"Start the marketing landing page."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-testing",children:"\ud83e\uddea Testing"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Script"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run easy-test"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Interactive test utility"}),": 1) Choose target (Local or UAT), 2) Choose mode (Standard Run or Coverage Report), 3) Runs tests for every backend service that has a ",(0,i.jsx)(n.code,{children:"test"})," script. Use this to run or get coverage against localhost or the UAT VPS."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:all"})}),(0,i.jsxs)(n.td,{children:["Run ",(0,i.jsx)(n.strong,{children:"all"})," backend service test suites in sequence: gym, identity, nutrition, squad, content, messaging, logging, wizard. No interaction required."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:gym"})}),(0,i.jsx)(n.td,{children:"Run tests for Gym Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:identity"})}),(0,i.jsx)(n.td,{children:"Run tests for Identity Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:nutrition"})}),(0,i.jsx)(n.td,{children:"Run tests for Nutrition Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:squad"})}),(0,i.jsx)(n.td,{children:"Run tests for Squad Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:content"})}),(0,i.jsx)(n.td,{children:"Run tests for Content Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:messaging"})}),(0,i.jsx)(n.td,{children:"Run tests for Messaging Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:logs"})}),(0,i.jsx)(n.td,{children:"Run tests for Logging Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:wizard"})}),(0,i.jsx)(n.td,{children:"Run tests for Wizard Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:integration"})}),(0,i.jsxs)(n.td,{children:["Run the ",(0,i.jsx)(n.strong,{children:"integration"})," test suite (Jest against ",(0,i.jsx)(n.code,{children:"fitnexa-backend/tests/integration.config.js"}),"). Requires ",(0,i.jsx)(n.code,{children:"NODE_ENV=test"}),"."]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-build--install",children:"\ud83d\udce6 Build & Install"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Script"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"npm run setup"})," / ",(0,i.jsx)(n.code,{children:"npm run install:all"})]}),(0,i.jsxs)(n.td,{children:["Install dependencies in all services (via ",(0,i.jsx)(n.code,{children:"scripts/install-all-services.js"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run install:shared"})}),(0,i.jsxs)(n.td,{children:["Install dependencies in ",(0,i.jsx)(n.code,{children:"fitnexa-shared"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run install:mobile"})}),(0,i.jsxs)(n.td,{children:["Install dependencies in ",(0,i.jsx)(n.code,{children:"fitnexa-mobile"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run install:gym-admin"})}),(0,i.jsx)(n.td,{children:"Install dependencies in Gym Admin."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run install:super-admin"})}),(0,i.jsx)(n.td,{children:"Install dependencies in Super Admin."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run install:landing"})}),(0,i.jsx)(n.td,{children:"Install dependencies in landing page."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run build:shared"})}),(0,i.jsxs)(n.td,{children:["Build the shared package (",(0,i.jsx)(n.code,{children:"fitnexa-shared"}),"). ",(0,i.jsx)(n.strong,{children:"Run this after changing shared code"})," before building or running backend services."]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-database",children:"\ud83d\uddc4\ufe0f Database"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Script"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run db:push:all"})}),(0,i.jsx)(n.td,{children:"Push Prisma schema to all service databases (identity, gym, nutrition, content, messaging)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run generate:all"})}),(0,i.jsx)(n.td,{children:"Generate Prisma clients for identity, gym, nutrition, content, messaging."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run generate:messaging"})}),(0,i.jsx)(n.td,{children:"Generate Prisma client for Messaging Service only."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run seed:all"})}),(0,i.jsxs)(n.td,{children:["Run seed script for all services (",(0,i.jsx)(n.code,{children:"scripts/seed-all.js"}),")."]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-utilities",children:"\ud83d\udd27 Utilities"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Script"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run health-check"})}),(0,i.jsxs)(n.td,{children:["Run health check script against configured services (",(0,i.jsx)(n.code,{children:"scripts/health-check.js"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run docs:dev"})}),(0,i.jsx)(n.td,{children:"Start the Docusaurus docs site in development mode."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run docs:build"})}),(0,i.jsx)(n.td,{children:"Build the Docusaurus docs for production."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run theme:mobile"})}),(0,i.jsx)(n.td,{children:"Generate Tailwind theme for mobile (Iron Temple, using local gateway)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run theme:mobile:greentheory"})}),(0,i.jsx)(n.td,{children:"Generate Tailwind theme for Green Theory."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run build:mobile:uat"})}),(0,i.jsxs)(n.td,{children:["Build mobile app for UAT (",(0,i.jsx)(n.code,{children:"scripts/build-mobile-uat.js"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run deploy:all"})}),(0,i.jsxs)(n.td,{children:["Run full deployment script (",(0,i.jsx)(n.code,{children:"scripts/deploy-all.js"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"npm run test:e2e:full"})}),(0,i.jsxs)(n.td,{children:["Run full E2E test suite (",(0,i.jsx)(n.code,{children:"scripts/test-e2e-full.js"}),")."]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"-ports-reference",children:"\ud83d\udccd Ports (reference)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3000"}),": API Gateway"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3001"}),": Admin dashboards (Vite)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3002"}),": Gym Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3003"}),": Nutrition Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3004"}),": Content Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3005"}),": Squad Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3006"}),": Wizard Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3007"}),": Identity Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3008"}),": Messaging Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3009"}),": Logging Service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"5173"}),": Vite (admin)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"8081"}),": Metro (Expo)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"5555\u20135559"}),": Prisma Studio / wizard (script-dependent)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/fitnexa-docs/docs/dev_workflows/CONTRIBUTING",children:"Back to Contributing"})," \xb7 ",(0,i.jsx)(n.a,{href:"/fitnexa-docs/docs/SYSTEM_OVERVIEW",children:"System Overview"})]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>d,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);