"use strict";(globalThis.webpackChunkfitnexa_docs=globalThis.webpackChunkfitnexa_docs||[]).push([[9186],{7432(e,r,n){n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"backend/error-handling","title":"Error Handling","description":"Standardized error hierarchy and reporting in the backend","source":"@site/docs/backend/error-handling.md","sourceDirName":"backend","slug":"/backend/error-handling","permalink":"/docs/backend/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/FitNexa/fitnexa-platform/tree/main/fitnexa-docs/docs/backend/error-handling.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Error Handling","description":"Standardized error hierarchy and reporting in the backend"},"sidebar":"tutorialSidebar","previous":{"title":"Services Catalog","permalink":"/docs/backend/services-catalog"},"next":{"title":"Testing","permalink":"/docs/backend/testing"}}');var t=n(4848),i=n(8453);const a={sidebar_position:4,title:"Error Handling",description:"Standardized error hierarchy and reporting in the backend"},d="Backend Error Handling",o={},c=[{value:"\ud83c\udfd7\ufe0f Class Hierarchy",id:"\ufe0f-class-hierarchy",level:2},{value:"\ud83d\ude80 Usage in Services",id:"-usage-in-services",level:2},{value:"\ud83d\udce1 Structured Responses",id:"-structured-responses",level:2}];function l(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"backend-error-handling",children:"Backend Error Handling"})}),"\n",(0,t.jsxs)(r.p,{children:["FitNexa uses a standardized hierarchy of customized error classes, defined in ",(0,t.jsx)(r.code,{children:"@fitnexa/shared/errors"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-class-hierarchy",children:"\ud83c\udfd7\ufe0f Class Hierarchy"}),"\n",(0,t.jsx)(r.p,{children:"Standard errors automatically map to the correct HTTP status codes in the global error middleware:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-text",children:"AppError (Base)\n\u251c\u2500\u2500 NotFoundError     (404)\n\u251c\u2500\u2500 ConflictError     (409)\n\u251c\u2500\u2500 ValidationError   (400)\n\u251c\u2500\u2500 UnauthorizedError (401)\n\u2514\u2500\u2500 ForbiddenError    (403)\n"})}),"\n",(0,t.jsx)(r.h2,{id:"-usage-in-services",children:"\ud83d\ude80 Usage in Services"}),"\n",(0,t.jsxs)(r.p,{children:["Instead of using raw ",(0,t.jsx)(r.code,{children:"throw new Error()"}),", use the specific error class:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-typescript",children:"import { NotFoundError } from '@fitnexa/shared/errors';\n\nconst gym = await prisma.gym.findUnique({ where: { id } });\n\nif (!gym) {\n  throw new NotFoundError('Gym not found');\n}\n"})}),"\n",(0,t.jsx)(r.h2,{id:"-structured-responses",children:"\ud83d\udce1 Structured Responses"}),"\n",(0,t.jsx)(r.p,{children:"The global error handler catches these and returns a consistent JSON body:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'{\n  "error": "Gym not found",\n  "statusCode": 404,\n  "service": "gym-service"\n}\n'})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsxs)(r.p,{children:["Related: ",(0,t.jsx)(r.a,{href:"/docs/backend/architecture",children:"Backend Architecture"})," \xb7 ",(0,t.jsx)(r.a,{href:"/docs/frontend/api-client",children:"API Client Guide"})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453(e,r,n){n.d(r,{R:()=>a,x:()=>d});var s=n(6540);const t={},i=s.createContext(t);function a(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);