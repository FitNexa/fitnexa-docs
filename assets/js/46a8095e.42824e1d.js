"use strict";(globalThis.webpackChunkfitnexa_docs=globalThis.webpackChunkfitnexa_docs||[]).push([[4049],{3988(e,r,n){n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"shared/overview","title":"@fitnexa/shared Overview","description":"The shared kernel of the FitNexa platform, including types, API clients, and server utilities","source":"@site/docs/shared/overview.md","sourceDirName":"shared","slug":"/shared/overview","permalink":"/docs/shared/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/FitNexa/fitnexa-platform/tree/main/fitnexa-docs/docs/shared/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"@fitnexa/shared Overview","description":"The shared kernel of the FitNexa platform, including types, API clients, and server utilities"},"sidebar":"tutorialSidebar","previous":{"title":"Branding & Theming","permalink":"/docs/mobile/branding"},"next":{"title":"Logging & Observability","permalink":"/docs/infrastructure/logging-observability"}}');var s=n(4848),d=n(8453);const t={sidebar_position:1,title:"@fitnexa/shared Overview",description:"The shared kernel of the FitNexa platform, including types, API clients, and server utilities"},l="@fitnexa/shared Package",a={},o=[{value:"\ud83d\udce6 Subpath Exports",id:"-subpath-exports",level:2},{value:"\ud83d\udd79\ufe0f Key Features",id:"\ufe0f-key-features",level:2},{value:"ApiClient",id:"apiclient",level:3},{value:"Wizard Infrastructure",id:"wizard-infrastructure",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"\ud83d\udda5\ufe0f Backend usage",id:"\ufe0f-backend-usage",level:2},{value:"TS Configuration",id:"ts-configuration",level:3},{value:"\ud83d\udcf1 Mobile usage",id:"-mobile-usage",level:2}];function c(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"fitnexashared-package",children:"@fitnexa/shared Package"})}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.strong,{children:"@fitnexa/shared"})," package is the shared kernel for the FitNexa platform. It provides types, configuration, API clients, server bootstrap, and middleware used by ",(0,s.jsx)(r.strong,{children:"fitnexa-mobile"}),", ",(0,s.jsx)(r.strong,{children:"fitnexa-backend"})," services, and admin apps. It has ",(0,s.jsx)(r.strong,{children:"no dependency"})," on mobile or backend; both depend on it."]}),"\n",(0,s.jsx)(r.h2,{id:"-subpath-exports",children:"\ud83d\udce6 Subpath Exports"}),"\n",(0,s.jsxs)(r.p,{children:["Consumers should use ",(0,s.jsx)(r.strong,{children:"subpath imports"})," to avoid pulling Node-only code into browser/mobile bundles."]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Export"}),(0,s.jsx)(r.th,{children:"Use case"}),(0,s.jsx)(r.th,{children:"Key contents"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"@fitnexa/shared"})," (browser)"]}),(0,s.jsx)(r.td,{children:"Admin apps, Landing"}),(0,s.jsx)(r.td,{children:"Types, ApiClient, environment config, browser logger, WizardLayout, WizardProvider, cn()"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/server"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Backend only"})}),(0,s.jsx)(r.td,{children:"ConfigManager, createBaseService, Express middleware, Node logger"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/types"})}),(0,s.jsx)(r.td,{children:"All apps"}),(0,s.jsx)(r.td,{children:"User, Gym, GymConfig, CheckIn, WizardSession DTOs"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/api"})}),(0,s.jsx)(r.td,{children:"Mobile, Admin"}),(0,s.jsxs)(r.td,{children:["Platform-agnostic ",(0,s.jsx)(r.code,{children:"ApiClient"})," (get, post, put, delete, upload)"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/errors"})}),(0,s.jsx)(r.td,{children:"All"}),(0,s.jsx)(r.td,{children:"AppError class hierarchy (NotFoundError, ConflictError, ValidationError)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/lib/utils"})}),(0,s.jsx)(r.td,{children:"All"}),(0,s.jsx)(r.td,{children:"cn() utility (clsx + tailwind-merge)"})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"\ufe0f-key-features",children:"\ud83d\udd79\ufe0f Key Features"}),"\n",(0,s.jsx)(r.h3,{id:"apiclient",children:"ApiClient"}),"\n",(0,s.jsxs)(r.p,{children:["A centralized, platform-agnostic HTTP client built on ",(0,s.jsx)(r.code,{children:"fetch"}),". ",(0,s.jsx)(r.strong,{children:"MANDATORY"})," for all frontend network requests."]}),"\n",(0,s.jsx)(r.admonition,{type:"tip",children:(0,s.jsxs)(r.p,{children:["See the ",(0,s.jsx)(r.a,{href:"/docs/frontend/api-client",children:"API Client Guide"})," for full usage examples."]})}),"\n",(0,s.jsx)(r.h3,{id:"wizard-infrastructure",children:"Wizard Infrastructure"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"WizardLayout"})}),": A standardized layout for multi-step flows."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsxs)(r.strong,{children:[(0,s.jsx)(r.code,{children:"WizardProvider"})," / ",(0,s.jsx)(r.code,{children:"useWizard"})]}),": Context for managing wizard state."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"WizardSession"})}),": DTOs for persistent multi-step sessions."]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(r.p,{children:"Standardized error classes that map to HTTP status codes:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"NotFoundError"})," (404)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"ConflictError"})," (409)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"ValidationError"})," (400)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"UnauthorizedError"})," (401)"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"\ufe0f-backend-usage",children:"\ud83d\udda5\ufe0f Backend usage"}),"\n",(0,s.jsx)(r.p,{children:"All backend services use:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/server"})})," for ",(0,s.jsx)(r.code,{children:"ConfigManager"}),", ",(0,s.jsx)(r.code,{children:"createBaseService"}),", and bootstrap."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"@fitnexa/shared/middleware"})})," for consistent error handling and auth."]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"ts-configuration",children:"TS Configuration"}),"\n",(0,s.jsxs)(r.p,{children:["Services map the path in ",(0,s.jsx)(r.code,{children:"tsconfig.json"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'"paths": {\n  "@fitnexa/shared/server": ["../../../fitnexa-shared/dist/server/index.js"]\n}\n'})}),"\n",(0,s.jsx)(r.h2,{id:"-mobile-usage",children:"\ud83d\udcf1 Mobile usage"}),"\n",(0,s.jsxs)(r.p,{children:["The mobile app imports from ",(0,s.jsx)(r.code,{children:"@fitnexa/shared/api"}),", ",(0,s.jsx)(r.code,{children:"@fitnexa/shared/types"}),", and ",(0,s.jsx)(r.code,{children:"@fitnexa/shared/lib/utils"}),". It must ",(0,s.jsx)(r.strong,{children:"never"})," import from ",(0,s.jsx)(r.code,{children:"@fitnexa/shared/server"}),"."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.p,{children:["Related: ",(0,s.jsx)(r.a,{href:"/docs/overview/system-overview",children:"System Overview"})," \xb7 ",(0,s.jsx)(r.a,{href:"/docs/backend/architecture",children:"Backend Architecture"})," \xb7 ",(0,s.jsx)(r.a,{href:"/docs/frontend/api-client",children:"API Client Guide"})]})]})}function h(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,r,n){n.d(r,{R:()=>t,x:()=>l});var i=n(6540);const s={},d=i.createContext(s);function t(e){const r=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(d.Provider,{value:r},e.children)}}}]);